<div class="layui-row layui-col-space3 searchInputBackGroundWhite">
    <div class="layui-col-md3">
        <li class="layui-this customSearch">
            <input type="text" ng-keyup="enterEvent($event,this)"  class="layui-input" ng-model="searchModel" placeholder="ID  |  地址" >
        </li>
    </div>
    <div class="layui-col-md8">&nbsp;</div>
    <div class="layui-col-md1">
        <div class="layui-form-item">
            <div class="layui-input-block" style="margin-left: 0">
                <a class="layui-btn layui-btn-primary searchButton" ng-click="showBatchHostsDialog()">
                    <i class="layui-icon layui-icon-add-circle"></i> 域名配置
                </a>
            </div>
        </div>
    </div>
</div>

<div class="layui-row">
    <table class="layui-table tableCursor" lay-skin="line">
        <colgroup>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col width=60>
            <col width="1">
            <col width="1">
            <col width="1">
        </colgroup>
        <thead>
        <tr>
            <th>序号</th>
            <th>实例ID</th>
            <th>地址</th>
            <th>状态</th>
            <th>上线时间</th>
            <th>操作</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="meta in showModel">
            <td>{{$index+ 1}}</td>
            <td>{{meta.id}}</td>
            <td>{{meta.address }}</td>
            <td>{{meta.agentStatus | convertStatus }}</td>
            <td>{{meta.upTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>
                <a class="layui-btn layui-btn-xs" ng-click="goRoutePage('/machineMonitor',{'id':meta.id})">监控</a>
            </td>
            <td>
                <a class="layui-btn layui-btn-xs" ng-click="showHostsDialog(meta.address)">域名</a>
            </td>
            <td>
                <a  class="layui-btn layui-btn-xs"
                    ng-class="meta.agentStatus == 'DISABLE'? 'layui-btn-normal':'layui-btn-danger' "
                    ng-click="meta.agentStatus == 'DISABLE'? machineEnable(meta.address) : machineDisable(meta.address)">
                    {{meta.agentStatus == 'DISABLE'?'启用':'禁用' }}</a>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="layui-row" id="indexModelPage"></div>
</div>


<div id="batchHostsDialog" style="display: none">
    <div class="layui-card">
        <div class="layui-card-body">
            <div class="layui-carousel">
                <blockquote class="layui-elem-quote">
                    <div class="layui-form">
                        <div class="layui-form-item layui-form-text">
                            <div class="layui-input-block" style="margin-left: 0 !important;">
                                <textarea ng-model="batchHostsDialog"  class="layui-textarea" style="height: 445px"></textarea>
                            </div>
                        </div>
                    </div>
                </blockquote>
            </div>
        </div>
    </div>
</div>


<div id="hostsDialog" style="display: none">
    <div class="layui-card">
        <div class="layui-card-body">
            <div class="layui-carousel">
                <blockquote class="layui-elem-quote">
                    <div class="layui-form">
                        <div class="layui-form-item layui-form-text">
                            <div class="layui-input-block" style="margin-left: 0 !important;">
                                <textarea ng-model="hostsModel"  class="layui-textarea" style="height: 445px"></textarea>
                            </div>
                        </div>
                    </div>
                </blockquote>
            </div>
        </div>
    </div>
</div>