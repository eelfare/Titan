<div class="layui-row layui-col-space3 searchInputBackGroundWhite">
    <div class="layui-col-md3">
        <li class="layui-this customSearch">
            <input type="text" ng-keyup="enterEvent($event,this)" class="layui-input" ng-model="searchModel"
                   placeholder="任务ID|任务名|URL">
        </li>
    </div>

    <div class="layui-col-md7">&nbsp;</div>
    <div class="layui-col-md1">
        <div class="layui-form-item">
            <div class="layui-input-block" style="margin-left: 0">
                <a class="layui-btn layui-btn-primary searchButton" ng-href="#/taskAddOrEdit">
                    <i class="layui-icon layui-icon-add-circle"></i> 新增任务
                </a>
            </div>
        </div>
    </div>
    <div class="layui-col-md1">
        <div class="layui-form-item">
            <div class="layui-input-block" style="margin-left: 0">
                <button class="layui-btn layui-btn-primary searchButton" ng-click="autoAddSocketTask()">批导
                </button>
            </div>
        </div>
    </div>
</div>

<div class="layui-row">
    <table class="layui-table tableCursor" lay-skin="line">
        <colgroup>
            <col>
            <col>
            <col>
            <col>
            <col width=40>
            <col width="1">
            <col width="1">
        </colgroup>
        <thead>
        <tr>
            <th>ID</th>
            <th>名称</th>
            <th>URL</th>
            <th>时间</th>
            <th>操作</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="taskEntity in showModel">
            <td>{{taskEntity.id}}</td>
            <td>{{taskEntity.name}}</td>
            <td style="max-width:520px; overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">
                {{taskEntity.url?taskEntity.url:'-'}}
            </td>
            <td>{{taskEntity.updateTime | date:'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>
                <a class="layui-btn layui-btn-xs" ng-click="goRoutePage('/taskAddOrEdit',{'id':taskEntity.id})">编辑</a>
            </td>
            <td>
                <a class="layui-btn layui-btn-xs layui-btn-danger" ng-click="delete(taskEntity.id,'taskDelete')">删除</a>
            </td>
        </tr>
        </tbody>
    </table>
    <div class="layui-row" id="indexModelPage"></div>
</div>


<div id="sceneServicesDialog" style="display: none">
    <div class="layui-card">
        <div class="layui-card-body">
            <div class="layui-carousel">
                <div class="layui-row">
                    <div class="layui-elem-quote">
                        <label class="titan-head-label">服务详情</label>
                    </div>
                    <table class="layui-table" lay-skin="line">
                        <thead>
                        <tr>
                            <th>ID</th>
                            <th>名称</th>
                            <th>应用</th>
                            <th>服务</th>
                            <th>地址</th>
                            <th>权重</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="service in showSceneServiceModel">
                            <td>{{service.id}}</td>
                            <td>{{service.name}}</td>
                            <td>{{service.applicationName}}</td>
                            <td>{{service.serviceName + ":"+ service.methodName}}</td>
                            <td>{{service.address}}</td>
                            <td>{{service.weight}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="progressDialog" style="display: none">
    <div class="layui-card">
        <div class="layui-card-body layadmin-takerates">
            <div class="layui-carousel">
                <div class="layui-row">
                    <div id="progressChart" style=" width: 1070px; height: 550px;margin-left: 3px "></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="concurrentConfigDialog" style="display: none">
    <blockquote class="layui-elem-quote layui-form" style="background-color: white;">
        <legend>当前并发：{{concurrentConfigModel}}</legend>
        <hr class="layui-bg-red marginTopBottom15">
        <legend>修改并发：{{concurrentInputModel}}</legend>
        <hr class="layui-bg-orange marginTopBottom15">
        <form class="layui-form">
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <input type="number" ng-model="concurrentInputModel" class="layui-input">
                </div>
            </div>
        </form>

    </blockquote>
</div>

<div id="analyzeSocketTaskDialog" style="display: none">
    <div class="layui-row conForm">
        <div class="layui-col-md10 layui-form">
            <blockquote class="layui-elem-quote ">
                <div class="layui-form-item">
                    <label class="layui-form-label">任务路径：</label>
                    <div class="layui-input-block">
                        <input type="text" ng-model="autoTaskUrl" name="url" lay-verify="required"
                               class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <label class="layui-form-label">指令集合：</label>
                    <div class="layui-input-block">
                        <textarea placeholder="请输入socket指令集合字符串模板数据" ng-model="socketListString" class="layui-textarea"></textarea>
                    </div>
                </div>

            </blockquote>
        </div>
    </div>
</div>