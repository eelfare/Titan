
<div class="layui-col-md2">
    <div class="layui-form-item">
        <a href="javascript:;" class="file layui-btn layui-btn-primary "><span
                ng-if="fileName == undefined" style="color: #777777;">选择本地数据源</span>
            <span ng-if="fileName != undefined">{{fileName}}</span>
            <input type="file" name="" class="layui-input" id=""
                   onchange="angular.element(this).scope().selectFile(this.files)">
        </a>
    </div>
</div>
<div class="layui-form layui-row layui-col-space3 searchInputBackGroundWhite">
    <div class="layui-col-md2">
        <!--开始时间-->
        <div class="layui-form-item">
            <label class="layui-form-label" style="padding: 9px 0px">开始时间：</label>
            <div class="layui-input-block" style="margin-left: 80px;">
                <input type="text" class="layui-input" id="topLinkStartTime" placeholder="yyyy-MM-dd HH:mm:ss">

            </div>
        </div>
    </div>
    <div class="layui-col-md2">
        <!--结束时间-->
        <div class="layui-form-item">
            <label class="layui-form-label" style="padding: 9px 0px">结束时间：</label>
            <div class="layui-input-block" style="margin-left: 80px;">
                <input type="text" class="layui-input" id="topLinkEndTime" placeholder="yyyy-MM-dd HH:mm:ss">
            </div>
        </div>
    </div>


    <div class="layui-col-md2">
        <div class="layui-form-item">
            <label class="layui-form-label" style="padding: 9px 0px">域名选择：</label>
            <div class="layui-input-block" style="margin-left: 80px;">
                <select id="domainName" lay-search>
                    <option value="">所有</option>
                    <option ng-repeat="domainName in topLinkDomainModel" value="{{domainName}}">{{domainName}}
                    </option>
                </select>
            </div>
        </div>
    </div>


    <div class="layui-col-md2">
        <div class="layui-form-item">
            <label class="layui-form-label" style="padding: 9px 0px">过滤分组：</label>
            <div class="layui-input-block" style="margin-left: 80px;">
                <select id="blackGroupId" lay-search>
                    <option ng-repeat="item in blackGroupModel" value="{{item.id}}">{{item.name}}
                    </option>
                </select>
            </div>
        </div>
    </div>

    <div class="layui-col-md2">
        <div class="layui-form-item">
            <label class="layui-form-label" style="padding: 9px 0px">查询条数：</label>
            <div class="layui-input-block" style="margin-left: 80px;">
                <input type="number" id="topNumber" value="50" ng-model="searchNum" autocomplete="off"
                       class="layui-input">
            </div>
        </div>
    </div>

    <div class="layui-col-md1">
        <div class="layui-form-item">
            <div class="layui-input-block" style="margin-left: 0">
                <button class="layui-btn searchButton" ng-click="doRequestBt()">检索</button>
            </div>
        </div>
    </div>
    <div class="layui-form layui-row layui-col-space3 searchInputBackGroundWhite">
        <div ng-if="showModel.length > 0">
            <div class="layui-col-md2">
                <li class="layui-this customSearch">
                    <input type="text" ng-keyup="enterEvent($event,this)" class="layui-input" ng-model="searchModel"
                           ng-change="useSearch()"
                           placeholder=" 域名 | URL">
                </li>
            </div>
            <div class="layui-col-md2">
                <div class="layui-form-item layui-input layui-text"
                     style="display:flex;align-items: center">
                    有效链路数：{{availabilityLength}}
                </div>
            </div>

            <div class="layui-col-md2">
                <div class="layui-form-item">
                    <label class="layui-form-label" style="padding: 9px 0px">压测条数：</label>
                    <div class="layui-input-block" style="margin-left: 80px;">
                        <input type="number" id="createNumber" ng-model="selectedNum" max="{{availabilityLength}}"
                               autocomplete="off" class="layui-input ng-pristine ng-untouched ng-valid ng-not-empty"
                               ng-change="changeSelected(selectedNum);">
                    </div>

                </div>
            </div>

            <div class="layui-col-md2">
                <div class="layui-form-item">
                    <label class="layui-form-label" style="padding: 9px 0px">链路协议：</label>
                    <div class="layui-input-block" style="margin-left: 80px;">
                        <select id="linkTreaty" lay-search>
                            <option value="HTTPS">HTTPS</option>
                            <option value="HTTP">HTTP</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="layui-col-md2">
                <div class="layui-form-item">
                    <label class="layui-form-label" style="padding: 9px 0px">参数条数：</label>
                    <div class="layui-input-block" style="margin-left: 80px;">
                        <input type="number" id="linkParamsNum" value="50" autocomplete="off"
                               class="layui-input ng-pristine ng-untouched ng-valid ng-not-empty">
                    </div>
                </div>
            </div>
            <div class="layui-col-md1">
                <div class="layui-form-item">
                    <div class="layui-input-block" style="margin-left: 5px">
                        <button class="layui-btn layui-btn-normal searchButton" ng-click="batchTurnScene()">创建场景
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="layui-row">
    <table class="layui-table layui-form tableCursor" lay-skin="line">
        <colgroup>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col>
            <col width=60>
            <col width="1">
            <col width="1">
        </colgroup>
        <thead>
        <tr>
            <th>
                <input type="checkbox" lay-skin="primary" lay-filter="allTopChoose"/>
            </th>
            <th>序号</th>
            <th>域名</th>
            <th>路径</th>
            <th>请求次数</th>
            <th>成功次数</th>
            <!--            <th>操作</th>-->
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="topLink in showModel" ng-style="{'background':topLink.blnBlack?'#F8F8FF':''}" on-finish-render>
            <td ng-if="topLink.blnBlack">
                <input type="checkbox" name="singleTopId" disabled lay-skin="primary"
                       value="{{topLink.domain+topLink.path}}"
                />
            </td>
            <td ng-if="!topLink.blnBlack">
                <input type="checkbox" name="singleTopId" lay-skin="primary"
                       value="{{topLink.domain+topLink.path + ','+topLink.requestTimes}}"
                       lay-filter="singleTopChoose"/>
            </td>
            <td ng-style="{'color':topLink.blnBlack?'#bcbec2':''}">{{$index+1}}</td>
            <td ng-style="{'color':topLink.blnBlack?'#bcbec2':''}">{{topLink.domain}}</td>
            <td ng-style="{'color':topLink.blnBlack?'#bcbec2':topLink.blnWhite?'':'red'}">{{topLink.path}}</td>
            <td ng-style="{'color':topLink.blnBlack?'#bcbec2':''}">{{topLink.requestTimes}}</td>
            <td ng-style="{'color':topLink.blnBlack?'#bcbec2':''}">{{topLink.successTimes}}</td>
            <!--            <td ng-if="topLink.filter">-->
            <!--                <a class="layui-btn-disabled">压测</a>-->
            <!--            </td>-->
            <!--            <td ng-if="!topLink.filter">-->
            <!--                <a class="layui-btn layui-btn-xs" ng-click="turnScene(topLink.domain+topLink.path)">压测</a>-->
            <!--            </td>-->
            <!--            <td ng-if="topLink.filter">-->
            <!--                <a class="layui-btn-disabled">删除</a>-->
            <!--            </td>-->
            <!--            <td ng-if="!topLink.filter">-->
            <!--                <a class="layui-btn layui-btn-xs layui-btn-danger" ng-click="topLinkRemove(topLink.path)">删除</a>-->
            <!--            </td>-->
        </tr>
        </tbody>
    </table>
    <div class="layui-row" id="indexModelPage"></div>
</div>


<div id="inputSceneNameDialog" style="display: none">
    <blockquote class="layui-elem-quote layui-form" style="background-color: white;margin-top: 20px">
        <div class="layui-row">
            <input type="text" ng-model="inputSceneNameModel" placeholder="请输入场景名称" autocomplete="off"
                   class="layui-input">
        </div>
    </blockquote>
</div>